(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[985],{3687:function(e,r,s){Promise.resolve().then(s.bind(s,4131))},4131:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return c}});var a=s(7437),t=s(2265),l=s(6463),n=s(7138),d=s(1543);function c(){let e=(0,l.useSearchParams)().get("session_id"),[r,s]=(0,t.useState)({loading:!0});return(0,t.useEffect)(()=>{let r=!1;return(async()=>{if(!e){s({loading:!1,error:"Session introuvable"});return}try{let a=await fetch("/api/gift/claim",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e})}),t=await a.json();if(r)return;t.error?s({loading:!1,error:t.error}):s({loading:!1,code:t.code,downloadUrl:t.downloadUrl})}catch(e){r||s({loading:!1,error:e.message})}})(),()=>{r=!0}},[e]),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("div",{className:"h-16"}),(0,a.jsx)("section",{className:"max-w-3xl mx-auto px-4 py-12",children:r.loading?(0,a.jsx)("div",{className:"rounded-2xl border p-6 bg-white",children:"Validation en cours…"}):r.error?(0,a.jsxs)("div",{className:"rounded-2xl border p-6 bg-white",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Oups"}),(0,a.jsx)("p",{className:"text-red-700 mt-2",children:r.error}),(0,a.jsx)(n.default,{href:"/cadeau",className:"inline-block mt-4 px-4 py-2 rounded-xl bg-emerald-700 hover:bg-emerald-800 text-white shadow-sm",children:"Revenir"})]}):(0,a.jsxs)("div",{className:"rounded-2xl border p-6 bg-white",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Merci \uD83C\uDF81"}),(0,a.jsx)("p",{className:"mt-2 text-stone-700",children:"Votre paiement est confirm\xe9. Le ch\xe8que cadeau a \xe9t\xe9 envoy\xe9 par e-mail."}),(0,a.jsxs)("div",{className:"mt-4 p-4 rounded-xl bg-stone-50 border",children:[(0,a.jsx)("div",{className:"text-sm text-stone-600",children:"Code du ch\xe8que cadeau"}),(0,a.jsx)("div",{className:"font-mono text-lg tracking-widest",children:r.code})]}),(0,a.jsx)("a",{href:r.downloadUrl,className:"inline-flex mt-6 px-4 py-2 rounded-xl bg-emerald-700 hover:bg-emerald-800 text-white shadow-sm",children:"T\xe9l\xe9charger le PDF"}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(n.default,{href:"/",className:"text-emerald-900 underline",children:"Retour \xe0 l’accueil"})})]})})]})}},1543:function(e,r,s){"use strict";s.d(r,{default:function(){return i}});var a=s(7437),t=s(7138),l=s(5647),n=s.n(l);function d(e){let{className:r=""}=e;return(0,a.jsxs)(t.default,{href:"/","aria-label":"Accueil — Les Chalets Ty-Koad",className:"flex items-center gap-3 ".concat(r),children:[(0,a.jsx)(c,{className:"h-8 w-8 text-emerald-900"}),(0,a.jsxs)("span",{className:"".concat(n().className," text-lg md:text-xl leading-none tracking-wide"),children:["Les Chalets ",(0,a.jsx)("span",{className:"text-emerald-900",children:"Ty-Koad"})]})]})}function c(e){let{className:r=""}=e;return(0,a.jsx)("svg",{viewBox:"0 0 24 24",className:r,fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,a.jsxs)("g",{transform:"translate(12 12)",children:[(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M0 -6a6 6 0 1 1 -4.24 1.76"}),(0,a.jsx)("circle",{cx:"0",cy:"-6",r:"1.4",fill:"currentColor",stroke:"none"})]}),(0,a.jsxs)("g",{transform:"rotate(120)",children:[(0,a.jsx)("path",{d:"M0 -6a6 6 0 1 1 -4.24 1.76"}),(0,a.jsx)("circle",{cx:"0",cy:"-6",r:"1.4",fill:"currentColor",stroke:"none"})]}),(0,a.jsxs)("g",{transform:"rotate(240)",children:[(0,a.jsx)("path",{d:"M0 -6a6 6 0 1 1 -4.24 1.76"}),(0,a.jsx)("circle",{cx:"0",cy:"-6",r:"1.4",fill:"currentColor",stroke:"none"})]})]})})}function i(){return(0,a.jsx)("header",{id:"site-header",style:{position:"fixed",top:0,left:0,right:0,zIndex:2147483647},className:"bg-white/90 backdrop-blur border-b border-emerald-100 shadow-sm",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[(0,a.jsx)(d,{}),(0,a.jsxs)("nav",{className:"hidden md:flex items-center gap-6 text-sm text-stone-700",children:[(0,a.jsx)(t.default,{href:"/nuit",className:"hover:text-emerald-800",children:"Douce nuit"}),(0,a.jsx)(t.default,{href:"/spa",className:"hover:text-rose-700",children:"Spa privatif"}),(0,a.jsx)(t.default,{href:"/autour",className:"hover:text-sky-700",children:"Autour"}),(0,a.jsx)(t.default,{href:"/gourmets",className:"hover:text-emerald-800",children:"Gourmets"}),(0,a.jsx)(t.default,{href:"/infos-pratiques",className:"hover:text-emerald-800",children:"Infos pratiques"}),(0,a.jsx)(t.default,{href:"/cadeau",className:"hover:text-rose-700",children:"Ch\xe8que cadeau"}),(0,a.jsx)(t.default,{href:"/contact",className:"hover:text-sky-700",children:"Contact"}),(0,a.jsx)(t.default,{href:"/reserver",className:"px-4 py-2 rounded-xl bg-emerald-700 hover:bg-emerald-800 text-white shadow-sm",children:"R\xe9server"})]}),(0,a.jsx)(t.default,{href:"/reserver",className:"md:hidden px-3 py-1 rounded-lg bg-emerald-700 hover:bg-emerald-800 text-white text-sm shadow-sm",children:"R\xe9server"})]})})}},6463:function(e,r,s){"use strict";var a=s(1169);s.o(a,"useSearchParams")&&s.d(r,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[599,44,971,23,744],function(){return e(e.s=3687)}),_N_E=e.O()}]);
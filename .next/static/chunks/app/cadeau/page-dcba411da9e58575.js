(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{8423:function(e,s,t){Promise.resolve().then(t.bind(t,7831))},7831:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var a=t(7437),r=t(2265),l=t(1543);let n=[{key:"fruits",label:"Plateau fruits de mer",price:65},{key:"champagne",label:"Champagne",price:45},{key:"petales",label:"P\xe9tales de rose",price:15},{key:"charcuterie",label:"Plateau charcuterie",price:30},{key:"petitdej2",label:"Petit d\xe9jeuner (2 pers.)",price:24}],d={C2:[{key:"c2_week",label:"1 nuit semaine (dim-jeu)",amount:130,validity:"week"},{key:"c2_weekend",label:"1 nuit week-end (ven-sam)",amount:150,validity:"weekend"}],C1:[{key:"c1_2n",label:"2 nuits (pack)",amount:140,nights:2},{key:"c1_3n",label:"3 nuits (pack)",amount:210,nights:3},{key:"c1_4n",label:"4 nuits (pack)",amount:280,nights:4}]},i=e=>(e||0).toLocaleString("fr-FR",{style:"currency",currency:"EUR"}),c=e=>"C2"===e?"Ty-Koad Duo (spa privatif)":"Ty-Koad — 2 chambres / 2 SDB",o=(e,s)=>{let t=(e+"-"+s+"-"+new Date().toISOString().slice(0,10)).toUpperCase(),a=0;for(let e=0;e<t.length;e++)a=31*a+t.charCodeAt(e)>>>0;let r=(a.toString(36).toUpperCase()+"0000").slice(0,8);return"TKO-".concat(r.slice(0,4),"-").concat(r.slice(4,8))};function x(e){let{className:s="h-9 w-9"}=e;return(0,a.jsxs)("svg",{viewBox:"0 0 100 100",className:s,"aria-hidden":!0,children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"g",x1:"0",x2:"1",children:[(0,a.jsx)("stop",{offset:"0",stopColor:"#065f46"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#0ea5a0"})]})}),(0,a.jsx)("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"url(#g)",strokeWidth:"4"}),(0,a.jsxs)("g",{fill:"url(#g)",children:[(0,a.jsx)("path",{d:"M50 48c8-12 18-10 18-20 0-6-5-11-11-11S46 22 46 28c0 3 1 5 4 8z"}),(0,a.jsx)("path",{d:"M52 50c-12 8-10 18-20 18-6 0-11-5-11-11s5-11 11-11c3 0 5 1 8 4z"}),(0,a.jsx)("path",{d:"M54 52c8 12 18 10 18 20 0 6-5 11-11 11s-11-5-11-11c0-3 1-5 4-8z"})]})]})}function m(e){let{chalet:s,plan:t,amount:r,fromName:l,toName:n,message:d,extrasLabels:m=[]}=e,u=o(l||"OFFRANT",n||"BENEFICIAIRE"),h=new Date().toLocaleDateString("fr-FR");return(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Aper\xe7u"}),(0,a.jsx)("div",{className:"rounded-3xl border border-emerald-900/10 bg-gradient-to-br from-emerald-50 to-white p-6",children:(0,a.jsxs)("div",{className:"relative mx-auto max-w-lg rounded-[28px] bg-white/90 shadow-2xl ring-1 ring-stone-200 backdrop-blur",children:[(0,a.jsx)("div",{className:"absolute -left-3 top-24 h-6 w-6 rounded-full bg-emerald-50 border border-stone-200"}),(0,a.jsx)("div",{className:"absolute -right-3 top-24 h-6 w-6 rounded-full bg-emerald-50 border border-stone-200"}),(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"rounded-full bg-emerald-50 p-1 ring-1 ring-emerald-900/10",children:(0,a.jsx)(x,{})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-emerald-900 font-semibold",children:"Les Chalets Ty-Koad"}),(0,a.jsx)("div",{className:"text-xs text-stone-500",children:h})]})]}),(0,a.jsx)("div",{className:"h-12 w-12 rounded-full opacity-90",style:{background:"conic-gradient(from 0deg, #34d399, #06b6d4, #a78bfa, #f59e0b, #34d399)",filter:"saturate(1.2)"},"aria-hidden":!0})]}),(0,a.jsx)("div",{className:"mx-6 mt-4 rounded-xl bg-gradient-to-r from-emerald-900 to-teal-700 px-4 py-2 text-white text-sm font-medium shadow",children:"\uD83C\uDF81 Ch\xe8que cadeau"}),(0,a.jsxs)("div",{className:"px-6 py-5",children:[(0,a.jsx)("div",{className:"text-xs text-stone-500",children:"Pour"}),(0,a.jsx)("div",{className:"text-xl font-semibold",children:n||"Nom du b\xe9n\xe9ficiaire"}),(0,a.jsx)("div",{className:"mt-3 text-xs text-stone-500",children:"De la part de"}),(0,a.jsx)("div",{className:"font-medium",children:l||"Votre nom"}),(0,a.jsxs)("div",{className:"mt-4 rounded-xl bg-stone-50/80 border border-stone-200 p-3",children:[(0,a.jsx)("div",{className:"text-xs text-stone-600",children:"S\xe9jour"}),(0,a.jsxs)("div",{className:"font-medium",children:[c(s)," — ",(null==t?void 0:t.label)||"…"]})]}),m.length>0&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("div",{className:"text-xs text-stone-600",children:"Options"}),(0,a.jsx)("div",{className:"mt-1 flex flex-wrap gap-2",children:m.map(e=>(0,a.jsx)("span",{className:"rounded-full bg-emerald-50 text-emerald-900 text-[11px] px-2 py-1 border border-emerald-100",children:e},e))})]}),(null==d?void 0:d.trim())&&(0,a.jsxs)("div",{className:"mt-4 italic text-stone-700 bg-emerald-50/60 border border-emerald-100 rounded-xl p-3",children:["\xab ",d," \xbb"]}),(0,a.jsxs)("div",{className:"mt-5 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-stone-200 p-3",children:[(0,a.jsx)("div",{className:"text-xs text-stone-500",children:"Montant"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-emerald-900",children:i(r)})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-stone-200 p-3",children:[(0,a.jsx)("div",{className:"text-xs text-stone-500",children:"Code"}),(0,a.jsx)("div",{className:"font-mono text-base tracking-widest bg-stone-900 text-white px-3 py-1 rounded-md inline-block",children:u})]})]})]}),(0,a.jsxs)("div",{className:"px-6 pb-6",children:[(0,a.jsx)("div",{className:"my-4 h-[10px] w-full bg-[radial-gradient(circle,_rgba(0,0,0,0.18)_2px,transparent_2px)] bg-[length:10px_10px]"}),(0,a.jsx)("div",{className:"rounded-xl bg-stone-50 border border-stone-200 px-4 py-3 text-[12px] text-stone-600",children:"Ce bon s’utilise lors de la r\xe9servation (directe ou plateforme) selon nos CGV."})]})]})})]})}function u(){let[e,s]=(0,r.useState)("C2"),[t,c]=(0,r.useState)(d.C2[0].key),[o,x]=(0,r.useState)({}),[u,h]=(0,r.useState)(""),[p,j]=(0,r.useState)(""),[b,f]=(0,r.useState)(""),[v,g]=(0,r.useState)(""),[N,y]=(0,r.useState)(""),[k,w]=(0,r.useState)(!1),C=d[e],S=C.find(e=>e.key===t)||C[0],_=(0,r.useMemo)(()=>n.reduce((e,s)=>e+(o[s.key]?s.price:0),0),[o]),D=(0,r.useMemo)(()=>n.filter(e=>o[e.key]).map(e=>e.label),[o]),T=((null==S?void 0:S.amount)||0)+_,O=e=>{s(e),c(d[e][0].key)},E=async s=>{if(s.preventDefault(),S)try{w(!0);let s=await fetch("/api/gift/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chalet:e,planKey:S.key,extras:Object.keys(o).filter(e=>o[e]),fromName:u,buyerEmail:p,toName:b,toEmail:v,message:N})}),t=await s.json();if(t.error){alert("Erreur: "+t.error),w(!1);return}location.href=t.url}catch(e){alert("Erreur r\xe9seau: "+e.message),w(!1)}};return(0,a.jsxs)("div",{children:[(0,a.jsx)(l.default,{}),(0,a.jsx)("div",{className:"h-16 md:h-16"}),(0,a.jsxs)("section",{className:"max-w-6xl mx-auto px-4 py-12 md:py-16 grid md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-3xl border border-stone-200 p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Ch\xe8que cadeau"}),(0,a.jsxs)("p",{className:"mt-2 text-stone-600 text-sm",children:["Offrez un s\xe9jour avec un ",(0,a.jsx)("strong",{children:"montant fixe"})," selon le chalet, et ajoutez des options gourmandes."]}),(0,a.jsxs)("form",{onSubmit:E,className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-stone-600",children:"Chalet"}),(0,a.jsxs)("select",{value:e,onChange:e=>O(e.target.value),className:"mt-1 w-full rounded-xl border border-stone-300 p-2",children:[(0,a.jsx)("option",{value:"C2",children:"Ty-Koad Duo (spa privatif)"}),(0,a.jsx)("option",{value:"C1",children:"Ty-Koad (2 chambres / 2 SDB)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-stone-600",children:"C2"===e?"Type de nuit":"Pack nuits"}),(0,a.jsx)("div",{className:"mt-2 grid gap-2",children:C.map(e=>(0,a.jsxs)("label",{className:"flex items-center justify-between rounded-xl border p-3 text-sm cursor-pointer ".concat(e.key===t?"border-emerald-900 bg-emerald-50":"border-stone-300 bg-white"),children:[(0,a.jsxs)("span",{children:[e.label,"week"===e.validity&&(0,a.jsx)("span",{className:"ml-2 text-xs text-stone-500",children:"(valable dim-jeu)"}),"weekend"===e.validity&&(0,a.jsx)("span",{className:"ml-2 text-xs text-stone-500",children:"(valable ven-sam)"}),e.nights&&(0,a.jsxs)("span",{className:"ml-2 text-xs text-stone-500",children:["(",e.nights," nuit",e.nights>1?"s":"",")"]})]}),(0,a.jsx)("input",{type:"radio",name:"plan",checked:t===e.key,onChange:()=>c(e.key)})]},e.key))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-stone-600 mb-1",children:"Options gourmandes & romance"}),(0,a.jsx)("div",{className:"space-y-2",children:n.map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:!!o[e.key],onChange:s=>x(t=>({...t,[e.key]:s.target.checked}))}),(0,a.jsxs)("span",{children:[e.label," — ",i(e.price)]})]},e.key))})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-stone-600",children:"De la part de"}),(0,a.jsx)("input",{className:"mt-1 w-full rounded-xl border border-stone-300 p-2",value:u,onChange:e=>h(e.target.value),placeholder:"Votre nom"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-stone-600",children:"Votre e-mail (re\xe7u)"}),(0,a.jsx)("input",{type:"email",className:"mt-1 w-full rounded-xl border border-stone-300 p-2",value:p,onChange:e=>j(e.target.value),placeholder:"vous@email.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-stone-600",children:"Pour (b\xe9n\xe9ficiaire)"}),(0,a.jsx)("input",{className:"mt-1 w-full rounded-xl border border-stone-300 p-2",value:b,onChange:e=>f(e.target.value),placeholder:"Nom du b\xe9n\xe9ficiaire"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-stone-600",children:"E-mail du b\xe9n\xe9ficiaire (optionnel)"}),(0,a.jsx)("input",{type:"email",className:"mt-1 w-full rounded-xl border border-stone-300 p-2",value:v,onChange:e=>g(e.target.value),placeholder:"parent@email.com"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-stone-600",children:"Message personnel (affich\xe9 sur le PDF)"}),(0,a.jsx)("textarea",{rows:3,className:"mt-1 w-full rounded-xl border border-stone-300 p-2",value:N,onChange:e=>y(e.target.value),placeholder:"Joyeux anniversaire !"})]}),(0,a.jsxs)("div",{className:"bg-stone-50 border border-stone-200 rounded-xl p-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Ch\xe8que cadeau"}),(0,a.jsx)("span",{children:i(null==S?void 0:S.amount)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Options"}),(0,a.jsx)("span",{children:i(_)})]}),(0,a.jsxs)("div",{className:"mt-1 pt-2 border-t flex items-center justify-between font-semibold",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsx)("span",{children:i(T)})]})]}),(0,a.jsx)("button",{disabled:k,className:"w-full px-4 py-3 rounded-xl bg-emerald-900 text-white font-medium",children:k?"Redirection vers Stripe…":"Acheter le ch\xe8que cadeau"})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-3xl border border-stone-200 p-6",children:(0,a.jsx)(m,{chalet:e,plan:S,amount:T,fromName:u,toName:b,message:N,extrasLabels:D})})]})]})}},1543:function(e,s,t){"use strict";t.d(s,{default:function(){return c}});var a=t(7437),r=t(7138),l=t(5647),n=t.n(l);function d(e){let{className:s=""}=e;return(0,a.jsxs)(r.default,{href:"/","aria-label":"Accueil — Les Chalets Ty-Koad",className:"flex items-center gap-3 ".concat(s),children:[(0,a.jsx)(i,{className:"h-8 w-8 text-emerald-900"}),(0,a.jsxs)("span",{className:"".concat(n().className," text-lg md:text-xl leading-none tracking-wide"),children:["Les Chalets ",(0,a.jsx)("span",{className:"text-emerald-900",children:"Ty-Koad"})]})]})}function i(e){let{className:s=""}=e;return(0,a.jsx)("svg",{viewBox:"0 0 24 24",className:s,fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,a.jsxs)("g",{transform:"translate(12 12)",children:[(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M0 -6a6 6 0 1 1 -4.24 1.76"}),(0,a.jsx)("circle",{cx:"0",cy:"-6",r:"1.4",fill:"currentColor",stroke:"none"})]}),(0,a.jsxs)("g",{transform:"rotate(120)",children:[(0,a.jsx)("path",{d:"M0 -6a6 6 0 1 1 -4.24 1.76"}),(0,a.jsx)("circle",{cx:"0",cy:"-6",r:"1.4",fill:"currentColor",stroke:"none"})]}),(0,a.jsxs)("g",{transform:"rotate(240)",children:[(0,a.jsx)("path",{d:"M0 -6a6 6 0 1 1 -4.24 1.76"}),(0,a.jsx)("circle",{cx:"0",cy:"-6",r:"1.4",fill:"currentColor",stroke:"none"})]})]})})}function c(){return(0,a.jsx)("header",{id:"site-header",style:{position:"fixed",top:0,left:0,right:0,zIndex:2147483647},className:"bg-white/90 backdrop-blur border-b border-emerald-100 shadow-sm",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[(0,a.jsx)(d,{}),(0,a.jsxs)("nav",{className:"hidden md:flex items-center gap-6 text-sm text-stone-700",children:[(0,a.jsx)(r.default,{href:"/nuit",className:"hover:text-emerald-800",children:"Douce nuit"}),(0,a.jsx)(r.default,{href:"/spa",className:"hover:text-rose-700",children:"Spa privatif"}),(0,a.jsx)(r.default,{href:"/autour",className:"hover:text-sky-700",children:"Autour"}),(0,a.jsx)(r.default,{href:"/gourmets",className:"hover:text-emerald-800",children:"Gourmets"}),(0,a.jsx)(r.default,{href:"/infos-pratiques",className:"hover:text-emerald-800",children:"Infos pratiques"}),(0,a.jsx)(r.default,{href:"/cadeau",className:"hover:text-rose-700",children:"Ch\xe8que cadeau"}),(0,a.jsx)(r.default,{href:"/contact",className:"hover:text-sky-700",children:"Contact"}),(0,a.jsx)(r.default,{href:"/reserver",className:"px-4 py-2 rounded-xl bg-emerald-700 hover:bg-emerald-800 text-white shadow-sm",children:"R\xe9server"})]}),(0,a.jsx)(r.default,{href:"/reserver",className:"md:hidden px-3 py-1 rounded-lg bg-emerald-700 hover:bg-emerald-800 text-white text-sm shadow-sm",children:"R\xe9server"})]})})}}},function(e){e.O(0,[599,44,971,23,744],function(){return e(e.s=8423)}),_N_E=e.O()}]);
(()=>{var e={};e.id=426,e.ids=[426],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},755:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o}),t(2970),t(7764),t(5866);var a=t(3191),r=t(8716),l=t(7922),n=t.n(l),d=t(5231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);t.d(s,i);let o=["",{children:["cadeau",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2970)),"C:\\Users\\Nina\\Downloads\\ty-koad-v5_1\\ty-koad-demo-v5.1\\app\\cadeau\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7764)),"C:\\Users\\Nina\\Downloads\\ty-koad-v5_1\\ty-koad-demo-v5.1\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Nina\\Downloads\\ty-koad-v5_1\\ty-koad-demo-v5.1\\app\\cadeau\\page.jsx"],x="/cadeau/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/cadeau/page",pathname:"/cadeau",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},398:(e,s,t)=>{Promise.resolve().then(t.bind(t,4074))},5816:()=>{},3474:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},4074:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(326),r=t(7577),l=t(8249);let n=[{key:"fruits",label:"Plateau fruits de mer",price:65},{key:"champagne",label:"Champagne",price:45},{key:"petales",label:"P\xe9tales de rose",price:15},{key:"charcuterie",label:"Plateau charcuterie",price:30},{key:"petitdej2",label:"Petit d\xe9jeuner (2 pers.)",price:24}],d={C2:[{key:"c2_week",label:"1 nuit semaine (dim-jeu)",amount:130,validity:"week"},{key:"c2_weekend",label:"1 nuit week-end (ven-sam)",amount:150,validity:"weekend"}],C1:[{key:"c1_2n",label:"2 nuits (pack)",amount:140,nights:2},{key:"c1_3n",label:"3 nuits (pack)",amount:210,nights:3},{key:"c1_4n",label:"4 nuits (pack)",amount:280,nights:4}]},i=e=>(e||0).toLocaleString("fr-FR",{style:"currency",currency:"EUR"}),o=e=>"C2"===e?"Ty-Koad Duo (spa privatif)":"Ty-Koad — 2 chambres / 2 SDB",c=(e,s)=>{let t=(e+"-"+s+"-"+new Date().toISOString().slice(0,10)).toUpperCase(),a=0;for(let e=0;e<t.length;e++)a=31*a+t.charCodeAt(e)>>>0;let r=(a.toString(36).toUpperCase()+"0000").slice(0,8);return`TKO-${r.slice(0,4)}-${r.slice(4,8)}`};function x({className:e="h-9 w-9"}){return(0,a.jsxs)("svg",{viewBox:"0 0 100 100",className:e,"aria-hidden":!0,children:[a.jsx("defs",{children:(0,a.jsxs)("linearGradient",{id:"g",x1:"0",x2:"1",children:[a.jsx("stop",{offset:"0",stopColor:"#065f46"}),a.jsx("stop",{offset:"1",stopColor:"#0ea5a0"})]})}),a.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"url(#g)",strokeWidth:"4"}),(0,a.jsxs)("g",{fill:"url(#g)",children:[a.jsx("path",{d:"M50 48c8-12 18-10 18-20 0-6-5-11-11-11S46 22 46 28c0 3 1 5 4 8z"}),a.jsx("path",{d:"M52 50c-12 8-10 18-20 18-6 0-11-5-11-11s5-11 11-11c3 0 5 1 8 4z"}),a.jsx("path",{d:"M54 52c8 12 18 10 18 20 0 6-5 11-11 11s-11-5-11-11c0-3 1-5 4-8z"})]})]})}function m({chalet:e,plan:s,amount:t,fromName:r,toName:l,message:n,extrasLabels:d=[]}){let m=c(r||"OFFRANT",l||"BENEFICIAIRE"),u=new Date().toLocaleDateString("fr-FR");return(0,a.jsxs)("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Aper\xe7u"}),a.jsx("div",{className:"rounded-3xl border border-emerald-900/10 bg-gradient-to-br from-emerald-50 to-white p-6",children:(0,a.jsxs)("div",{className:"relative mx-auto max-w-lg rounded-[28px] bg-white/90 shadow-2xl ring-1 ring-stone-200 backdrop-blur",children:[a.jsx("div",{className:"absolute -left-3 top-24 h-6 w-6 rounded-full bg-emerald-50 border border-stone-200"}),a.jsx("div",{className:"absolute -right-3 top-24 h-6 w-6 rounded-full bg-emerald-50 border border-stone-200"}),(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-full bg-emerald-50 p-1 ring-1 ring-emerald-900/10",children:a.jsx(x,{})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-emerald-900 font-semibold",children:"Les Chalets Ty-Koad"}),a.jsx("div",{className:"text-xs text-stone-500",children:u})]})]}),a.jsx("div",{className:"h-12 w-12 rounded-full opacity-90",style:{background:"conic-gradient(from 0deg, #34d399, #06b6d4, #a78bfa, #f59e0b, #34d399)",filter:"saturate(1.2)"},"aria-hidden":!0})]}),a.jsx("div",{className:"mx-6 mt-4 rounded-xl bg-gradient-to-r from-emerald-900 to-teal-700 px-4 py-2 text-white text-sm font-medium shadow",children:"\uD83C\uDF81 Ch\xe8que cadeau"}),(0,a.jsxs)("div",{className:"px-6 py-5",children:[a.jsx("div",{className:"text-xs text-stone-500",children:"Pour"}),a.jsx("div",{className:"text-xl font-semibold",children:l||"Nom du b\xe9n\xe9ficiaire"}),a.jsx("div",{className:"mt-3 text-xs text-stone-500",children:"De la part de"}),a.jsx("div",{className:"font-medium",children:r||"Votre nom"}),(0,a.jsxs)("div",{className:"mt-4 rounded-xl bg-stone-50/80 border border-stone-200 p-3",children:[a.jsx("div",{className:"text-xs text-stone-600",children:"S\xe9jour"}),(0,a.jsxs)("div",{className:"font-medium",children:[o(e)," — ",s?.label||"…"]})]}),d.length>0&&(0,a.jsxs)("div",{className:"mt-3",children:[a.jsx("div",{className:"text-xs text-stone-600",children:"Options"}),a.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:d.map(e=>a.jsx("span",{className:"rounded-full bg-emerald-50 text-emerald-900 text-[11px] px-2 py-1 border border-emerald-100",children:e},e))})]}),n?.trim()&&(0,a.jsxs)("div",{className:"mt-4 italic text-stone-700 bg-emerald-50/60 border border-emerald-100 rounded-xl p-3",children:["\xab ",n," \xbb"]}),(0,a.jsxs)("div",{className:"mt-5 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-stone-200 p-3",children:[a.jsx("div",{className:"text-xs text-stone-500",children:"Montant"}),a.jsx("div",{className:"text-2xl font-bold text-emerald-900",children:i(t)})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-stone-200 p-3",children:[a.jsx("div",{className:"text-xs text-stone-500",children:"Code"}),a.jsx("div",{className:"font-mono text-base tracking-widest bg-stone-900 text-white px-3 py-1 rounded-md inline-block",children:m})]})]})]}),(0,a.jsxs)("div",{className:"px-6 pb-6",children:[a.jsx("div",{className:"my-4 h-[10px] w-full bg-[radial-gradient(circle,_rgba(0,0,0,0.18)_2px,transparent_2px)] bg-[length:10px_10px]"}),a.jsx("div",{className:"rounded-xl bg-stone-50 border border-stone-200 px-4 py-3 text-[12px] text-stone-600",children:"Ce bon s’utilise lors de la r\xe9servation (directe ou plateforme) selon nos CGV."})]})]})})]})}function u(){let[e,s]=(0,r.useState)("C2"),[t,o]=(0,r.useState)(d.C2[0].key),[c,x]=(0,r.useState)({}),[u,h]=(0,r.useState)(""),[p,j]=(0,r.useState)(""),[b,f]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[y,N]=(0,r.useState)(""),[k,w]=(0,r.useState)(!1),C=d[e],P=C.find(e=>e.key===t)||C[0],_=(0,r.useMemo)(()=>n.reduce((e,s)=>e+(c[s.key]?s.price:0),0),[c]),S=(0,r.useMemo)(()=>n.filter(e=>c[e.key]).map(e=>e.label),[c]),D=(P?.amount||0)+_,q=e=>{s(e),o(d[e][0].key)},T=async s=>{if(s.preventDefault(),P)try{w(!0);let s=await fetch("/api/gift/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chalet:e,planKey:P.key,extras:Object.keys(c).filter(e=>c[e]),fromName:u,buyerEmail:p,toName:b,toEmail:g,message:y})}),t=await s.json();if(t.error){alert("Erreur: "+t.error),w(!1);return}location.href=t.url}catch(e){alert("Erreur r\xe9seau: "+e.message),w(!1)}};return(0,a.jsxs)("div",{children:[a.jsx(l.default,{}),a.jsx("div",{className:"h-16 md:h-16"}),(0,a.jsxs)("section",{className:"max-w-6xl mx-auto px-4 py-12 md:py-16 grid md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-3xl border border-stone-200 p-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Ch\xe8que cadeau"}),(0,a.jsxs)("p",{className:"mt-2 text-stone-600 text-sm",children:["Offrez un s\xe9jour avec un ",a.jsx("strong",{children:"montant fixe"})," selon le chalet, et ajoutez des options gourmandes."]}),(0,a.jsxs)("form",{onSubmit:T,className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-xs text-stone-600",children:"Chalet"}),(0,a.jsxs)("select",{value:e,onChange:e=>q(e.target.value),className:"mt-1 w-full rounded-xl border border-stone-300 p-2",children:[a.jsx("option",{value:"C2",children:"Ty-Koad Duo (spa privatif)"}),a.jsx("option",{value:"C1",children:"Ty-Koad (2 chambres / 2 SDB)"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-xs text-stone-600",children:"C2"===e?"Type de nuit":"Pack nuits"}),a.jsx("div",{className:"mt-2 grid gap-2",children:C.map(e=>(0,a.jsxs)("label",{className:`flex items-center justify-between rounded-xl border p-3 text-sm cursor-pointer ${e.key===t?"border-emerald-900 bg-emerald-50":"border-stone-300 bg-white"}`,children:[(0,a.jsxs)("span",{children:[e.label,"week"===e.validity&&a.jsx("span",{className:"ml-2 text-xs text-stone-500",children:"(valable dim-jeu)"}),"weekend"===e.validity&&a.jsx("span",{className:"ml-2 text-xs text-stone-500",children:"(valable ven-sam)"}),e.nights&&(0,a.jsxs)("span",{className:"ml-2 text-xs text-stone-500",children:["(",e.nights," nuit",e.nights>1?"s":"",")"]})]}),a.jsx("input",{type:"radio",name:"plan",checked:t===e.key,onChange:()=>o(e.key)})]},e.key))})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-stone-600 mb-1",children:"Options gourmandes & romance"}),a.jsx("div",{className:"space-y-2",children:n.map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:!!c[e.key],onChange:s=>x(t=>({...t,[e.key]:s.target.checked}))}),(0,a.jsxs)("span",{children:[e.label," — ",i(e.price)]})]},e.key))})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-xs text-stone-600",children:"De la part de"}),a.jsx("input",{className:"mt-1 w-full rounded-xl border border-stone-300 p-2",value:u,onChange:e=>h(e.target.value),placeholder:"Votre nom"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-xs text-stone-600",children:"Votre e-mail (re\xe7u)"}),a.jsx("input",{type:"email",className:"mt-1 w-full rounded-xl border border-stone-300 p-2",value:p,onChange:e=>j(e.target.value),placeholder:"vous@email.com"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-xs text-stone-600",children:"Pour (b\xe9n\xe9ficiaire)"}),a.jsx("input",{className:"mt-1 w-full rounded-xl border border-stone-300 p-2",value:b,onChange:e=>f(e.target.value),placeholder:"Nom du b\xe9n\xe9ficiaire"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-xs text-stone-600",children:"E-mail du b\xe9n\xe9ficiaire (optionnel)"}),a.jsx("input",{type:"email",className:"mt-1 w-full rounded-xl border border-stone-300 p-2",value:g,onChange:e=>v(e.target.value),placeholder:"parent@email.com"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-xs text-stone-600",children:"Message personnel (affich\xe9 sur le PDF)"}),a.jsx("textarea",{rows:3,className:"mt-1 w-full rounded-xl border border-stone-300 p-2",value:y,onChange:e=>N(e.target.value),placeholder:"Joyeux anniversaire !"})]}),(0,a.jsxs)("div",{className:"bg-stone-50 border border-stone-200 rounded-xl p-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Ch\xe8que cadeau"}),a.jsx("span",{children:i(P?.amount)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Options"}),a.jsx("span",{children:i(_)})]}),(0,a.jsxs)("div",{className:"mt-1 pt-2 border-t flex items-center justify-between font-semibold",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{children:i(D)})]})]}),a.jsx("button",{disabled:k,className:"w-full px-4 py-3 rounded-xl bg-emerald-900 text-white font-medium",children:k?"Redirection vers Stripe…":"Acheter le ch\xe8que cadeau"})]})]}),a.jsx("div",{className:"bg-white rounded-3xl border border-stone-200 p-6",children:a.jsx(m,{chalet:e,plan:P,amount:D,fromName:u,toName:b,message:y,extrasLabels:S})})]})]})}},8249:(e,s,t)=>{"use strict";t.d(s,{default:()=>o});var a=t(326),r=t(434),l=t(918),n=t.n(l);function d({className:e=""}){return(0,a.jsxs)(r.default,{href:"/","aria-label":"Accueil — Les Chalets Ty-Koad",className:`flex items-center gap-3 ${e}`,children:[a.jsx(i,{className:"h-8 w-8 text-emerald-900"}),(0,a.jsxs)("span",{className:`${n().className} text-lg md:text-xl leading-none tracking-wide`,children:["Les Chalets ",a.jsx("span",{className:"text-emerald-900",children:"Ty-Koad"})]})]})}function i({className:e=""}){return a.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,a.jsxs)("g",{transform:"translate(12 12)",children:[(0,a.jsxs)("g",{children:[a.jsx("path",{d:"M0 -6a6 6 0 1 1 -4.24 1.76"}),a.jsx("circle",{cx:"0",cy:"-6",r:"1.4",fill:"currentColor",stroke:"none"})]}),(0,a.jsxs)("g",{transform:"rotate(120)",children:[a.jsx("path",{d:"M0 -6a6 6 0 1 1 -4.24 1.76"}),a.jsx("circle",{cx:"0",cy:"-6",r:"1.4",fill:"currentColor",stroke:"none"})]}),(0,a.jsxs)("g",{transform:"rotate(240)",children:[a.jsx("path",{d:"M0 -6a6 6 0 1 1 -4.24 1.76"}),a.jsx("circle",{cx:"0",cy:"-6",r:"1.4",fill:"currentColor",stroke:"none"})]})]})})}function o(){return a.jsx("header",{id:"site-header",style:{position:"fixed",top:0,left:0,right:0,zIndex:2147483647},className:"bg-white/90 backdrop-blur border-b border-emerald-100 shadow-sm",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[a.jsx(d,{}),(0,a.jsxs)("nav",{className:"hidden md:flex items-center gap-6 text-sm text-stone-700",children:[a.jsx(r.default,{href:"/nuit",className:"hover:text-emerald-800",children:"Douce nuit"}),a.jsx(r.default,{href:"/spa",className:"hover:text-rose-700",children:"Spa privatif"}),a.jsx(r.default,{href:"/autour",className:"hover:text-sky-700",children:"Autour"}),a.jsx(r.default,{href:"/gourmets",className:"hover:text-emerald-800",children:"Gourmets"}),a.jsx(r.default,{href:"/infos-pratiques",className:"hover:text-emerald-800",children:"Infos pratiques"}),a.jsx(r.default,{href:"/cadeau",className:"hover:text-rose-700",children:"Ch\xe8que cadeau"}),a.jsx(r.default,{href:"/contact",className:"hover:text-sky-700",children:"Contact"}),a.jsx(r.default,{href:"/reserver",className:"px-4 py-2 rounded-xl bg-emerald-700 hover:bg-emerald-800 text-white shadow-sm",children:"R\xe9server"})]}),a.jsx(r.default,{href:"/reserver",className:"md:hidden px-3 py-1 rounded-lg bg-emerald-700 hover:bg-emerald-800 text-white text-sm shadow-sm",children:"R\xe9server"})]})})}},2970:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>d});var a=t(8570);let r=(0,a.createProxy)(String.raw`C:\Users\Nina\Downloads\ty-koad-v5_1\ty-koad-demo-v5.1\app\cadeau\page.jsx`),{__esModule:l,$$typeof:n}=r;r.default;let d=(0,a.createProxy)(String.raw`C:\Users\Nina\Downloads\ty-koad-v5_1\ty-koad-demo-v5.1\app\cadeau\page.jsx#default`)},7764:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>r});var a=t(9510);t(7272);let r={title:"Ty-Koad — V5.x",description:"Paiement, caution, iCal, admin"};function l({children:e}){return a.jsx("html",{lang:"fr",children:a.jsx("body",{className:" min-h-screen bg-gradient-to-br from-emerald-50 via-sky-50 to-rose-50 text-stone-900 ",children:e})})}},7272:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,471,552],()=>t(755));module.exports=a})();
(()=>{var e={};e.id=943,e.ids=[943],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9954:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>l,routeModule:()=>f,tree:()=>u}),r(1595),r(7764),r(5866);var n=r(3191),o=r(8716),a=r(7922),s=r.n(a),i=r(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(t,c);let u=["",{children:["payer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1595)),"C:\\Users\\Nina\\Downloads\\ty-koad-v5_1\\ty-koad-demo-v5.1\\app\\payer\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,7764)),"C:\\Users\\Nina\\Downloads\\ty-koad-v5_1\\ty-koad-demo-v5.1\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],l=["C:\\Users\\Nina\\Downloads\\ty-koad-v5_1\\ty-koad-demo-v5.1\\app\\payer\\page.jsx"],d="/payer/page",p={require:r,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/payer/page",pathname:"/payer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},5816:()=>{},5387:(e,t,r)=>{Promise.resolve().then(r.bind(r,5887))},3474:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},5887:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Q});var n,o=r(326),a=r(7577),s=r(5047),i="https://js.stripe.com/v3",c=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,u=function(){for(var e=document.querySelectorAll('script[src^="'.concat(i,'"]')),t=0;t<e.length;t++){var r=e[t];if(c.test(r.src))return r}return null},l=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(i).concat(t);var n=document.head||document.body;if(!n)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},d=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"3.4.0",startTime:t})},p=null,f=null,m=null,h=function(e,t,r){if(null===e)return null;var n=e.apply(void 0,t);return d(n,r),n},y=!1,v=function(){return n||(n=(null!==p?p:(p=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var r,n=u();n?n&&null!==m&&null!==f&&(n.removeEventListener("load",m),n.removeEventListener("error",f),null===(r=n.parentNode)||void 0===r||r.removeChild(n),n=l(null)):n=l(null),m=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},f=function(){t(Error("Failed to load Stripe.js"))},n.addEventListener("load",m),n.addEventListener("error",f)}catch(e){t(e);return}})).catch(function(e){return p=null,Promise.reject(e)})).catch(function(e){return n=null,Promise.reject(e)}))};Promise.resolve().then(function(){return v()}).catch(function(e){y||console.warn(e)});var x=r(8439);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){C(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=o){var a=[],s=!0,i=!1;try{for(o=o.call(e);!(s=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(e){i=!0,n=e}finally{try{s||null==o.return||o.return()}finally{if(i)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var w=function(e){var t=a.useRef(e);return a.useEffect(function(){t.current=e},[e]),t.current},P=function(e){return null!==e&&"object"===j(e)},E="[object Object]",N=function e(t,r){if(!P(t)||!P(r))return t===r;var n=Array.isArray(t);if(n!==Array.isArray(r))return!1;var o=Object.prototype.toString.call(t)===E;if(o!==(Object.prototype.toString.call(r)===E))return!1;if(!o&&!n)return t===r;var a=Object.keys(t),s=Object.keys(r);if(a.length!==s.length)return!1;for(var i={},c=0;c<a.length;c+=1)i[a[c]]=!0;for(var u=0;u<s.length;u+=1)i[s[u]]=!0;var l=Object.keys(i);return l.length===a.length&&l.every(function(n){return e(t[n],r[n])})},O=function(e,t,r){return P(e)?Object.keys(e).reduce(function(n,o){var a=!P(t)||!N(e[o],t[o]);return r.includes(o)?(a&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),n):a?b(b({},n||{}),{},C({},o,e[o])):n},null):null},_="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;if(null===e||P(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return e;throw Error(t)},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;if(P(e)&&"function"==typeof e.then)return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return A(e,t)})};var r=A(e,t);return null===r?{tag:"empty"}:{tag:"sync",stripe:r}},q=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.6.2"}),e.registerAppInfo({name:"react-stripe-js",version:"2.6.2",url:"https://stripe.com/docs/stripe-js/react"}))},T=a.createContext(null);T.displayName="ElementsContext";var L=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},M=a.createContext(null);M.displayName="CartElementContext";var I=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},D=function(e){var t=e.stripe,r=e.options,n=e.children,o=a.useMemo(function(){return R(t)},[t]),s=k(a.useState(null),2),i=s[0],c=s[1],u=k(a.useState(null),2),l=u[0],d=u[1],p=k(a.useState(function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(r):null}}),2),f=p[0],m=p[1];a.useEffect(function(){var e=!0,t=function(e){m(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==o.tag||f.stripe?"sync"!==o.tag||f.stripe||t(o.stripe):o.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[o,f,r]);var h=w(t);a.useEffect(function(){null!==h&&h!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,t]);var y=w(r);return a.useEffect(function(){if(f.elements){var e=O(r,y,["clientSecret","fonts"]);e&&f.elements.update(e)}},[r,y,f.elements]),a.useEffect(function(){q(f.stripe)},[f.stripe]),a.createElement(T.Provider,{value:f},a.createElement(M.Provider,{value:{cart:i,setCart:c,cartState:l,setCartState:d}},n))};D.propTypes={stripe:x.any,options:x.object};var U={cart:null,cartState:null,setCart:function(){},setCartState:function(){}},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=a.useContext(M);return t?U:I(r,e)};x.func.isRequired;var W=function(e,t,r){var n=!!r,o=a.useRef(r);a.useEffect(function(){o.current=r},[r]),a.useEffect(function(){if(!n||!e)return function(){};var r=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,r),function(){e.off(t,r)}},[n,t,e,o])},F=a.createContext(null);F.displayName="CustomCheckoutSdkContext";var G=function(e,t){if(!e)throw Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e};a.createContext(null).displayName="CustomCheckoutContext",x.any,x.shape({clientSecret:x.string.isRequired,elementsOptions:x.object}).isRequired;var Y=function(e){var t=a.useContext(F),r=a.useContext(T);if(t&&r)throw Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return t?G(t,e):L(r,e)},$=function(e,t){var r="".concat(e.charAt(0).toUpperCase()+e.slice(1),"Element"),n=t?function(e){var t=Y("mounts <".concat(r,">"));B("mounts <".concat(r,">"),"customCheckoutSdk"in t);var n=e.id,o=e.className;return a.createElement("div",{id:n,className:o})}:function(t){var n,o=t.id,s=t.className,i=t.options,c=void 0===i?{}:i,u=t.onBlur,l=t.onFocus,d=t.onReady,p=t.onChange,f=t.onEscape,m=t.onClick,h=t.onLoadError,y=t.onLoaderStart,v=t.onNetworksChange,x=t.onCheckout,g=t.onLineItemClick,b=t.onConfirm,j=t.onCancel,C=t.onShippingAddressChange,S=t.onShippingRateChange,P=Y("mounts <".concat(r,">")),E="elements"in P?P.elements:null,N="customCheckoutSdk"in P?P.customCheckoutSdk:null,_=k(a.useState(null),2),A=_[0],R=_[1],q=a.useRef(null),T=a.useRef(null),L=B("mounts <".concat(r,">"),"customCheckoutSdk"in P),M=L.setCart,I=L.setCartState;W(A,"blur",u),W(A,"focus",l),W(A,"escape",f),W(A,"click",m),W(A,"loaderror",h),W(A,"loaderstart",y),W(A,"networkschange",v),W(A,"lineitemclick",g),W(A,"confirm",b),W(A,"cancel",j),W(A,"shippingaddresschange",C),W(A,"shippingratechange",S),"cart"===e?n=function(e){I(e),d&&d(e)}:d&&(n="expressCheckout"===e?d:function(){d(A)}),W(A,"ready",n),W(A,"change","cart"===e?function(e){I(e),p&&p(e)}:p),W(A,"checkout","cart"===e?function(e){I(e),x&&x(e)}:x),a.useLayoutEffect(function(){if(null===q.current&&null!==T.current&&(E||N)){var t=null;N?t=N.createElement(e,c):E&&(t=E.create(e,c)),"cart"===e&&M&&M(t),q.current=t,R(t),t&&t.mount(T.current)}},[E,N,c,M]);var D=w(c);return a.useEffect(function(){if(q.current){var e=O(c,D,["paymentRequest"]);e&&q.current.update(e)}},[c,D]),a.useLayoutEffect(function(){return function(){if(q.current&&"function"==typeof q.current.destroy)try{q.current.destroy(),q.current=null}catch(e){}}},[]),a.createElement("div",{id:o,className:s,ref:T})};return n.propTypes={id:x.string,className:x.string,onChange:x.func,onBlur:x.func,onFocus:x.func,onReady:x.func,onEscape:x.func,onClick:x.func,onLoadError:x.func,onLoaderStart:x.func,onNetworksChange:x.func,onCheckout:x.func,onLineItemClick:x.func,onConfirm:x.func,onCancel:x.func,onShippingAddressChange:x.func,onShippingRateChange:x.func,options:x.object},n.displayName=r,n.__elementType=e,n},K="undefined"==typeof window;a.createContext(null).displayName="EmbeddedCheckoutProviderContext",$("auBankAccount",K),$("card",K),$("cardNumber",K),$("cardExpiry",K),$("cardCvc",K),$("fpxBank",K),$("iban",K),$("idealBank",K),$("p24Bank",K),$("epsBank",K);var V=$("payment",K);$("expressCheckout",K),$("paymentRequestButton",K),$("linkAuthentication",K),$("address",K),$("shippingAddress",K),$("cart",K),$("paymentMethodMessaging",K),$("affirmMessage",K),$("afterpayClearpayMessage",K);var z=r(8249);let H=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];y=!0;var n=Date.now();return v().then(function(e){return h(e,t,n)})}("pk_live_51RsgI0H2RLtjddNaCiQzSYSbfm0X1PJu8HRBW0s730t6ySU0RoGF3o59bAu2xsGLWCl0cEfmLKIoyX0VM3z8dQkG00tTveBCSi");function X(e){return(e/100).toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}function J(){var e;let t=(0,s.useSearchParams)(),r=Y("calls useStripe()").stripe,n=(e="calls useElements()",L(a.useContext(T),e)).elements,i=Math.round(100*Number(t.get("amount")||0)),c=Math.round(100*Number(t.get("deposit")||0));t.get("chalet"),t.get("ci"),t.get("co"),t.get("nights");let u=t.get("giftCode")||"";t.get("giftValue");let[l,d]=(0,a.useState)(null),[p,f]=(0,a.useState)("init"),[m,h]=(0,a.useState)("");async function y(){if(!r||!n)return;f("paying");let{error:e}=await r.confirmPayment({elements:n,redirect:"if_required"});if(e){h(e.message||"Erreur"),f("error");return}if(u)try{await fetch("/api/gift/consume",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:u})})}catch{}f("done")}return l?(0,o.jsxs)("div",{className:"max-w-md mx-auto bg-white border rounded-2xl p-5",children:[(0,o.jsxs)("div",{className:"text-sm text-stone-600 mb-2",children:["Total \xe0 payer : ",o.jsx("b",{children:X(i)}),u&&` (bon appliqu\xe9)`,o.jsx("br",{}),"Caution (s\xe9par\xe9e) : ",X(c)]}),o.jsx(V,{}),o.jsx("button",{onClick:y,disabled:"ready"!==p,className:"w-full mt-4 px-4 py-2 rounded-xl bg-emerald-700 hover:bg-emerald-800 text-white shadow-sm",children:"paying"===p?"Paiement en cours…":"Payer"}),"done"===p&&o.jsx("div",{className:"mt-3 text-emerald-800",children:"Merci ! Paiement confirm\xe9."}),"error"===p&&o.jsx("div",{className:"mt-3 text-red-700",children:m})]}):o.jsx("div",{className:"p-6",children:"Pr\xe9paration du paiement…"})}function Q(){return(0,o.jsxs)("div",{children:[o.jsx(z.default,{}),o.jsx("div",{className:"h-16"}),o.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:o.jsx(D,{stripe:H,children:o.jsx(J,{})})})]})}},8249:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(326),o=r(434),a=r(918),s=r.n(a);function i({className:e=""}){return(0,n.jsxs)(o.default,{href:"/","aria-label":"Accueil — Les Chalets Ty-Koad",className:`flex items-center gap-3 ${e}`,children:[n.jsx(c,{className:"h-8 w-8 text-emerald-900"}),(0,n.jsxs)("span",{className:`${s().className} text-lg md:text-xl leading-none tracking-wide`,children:["Les Chalets ",n.jsx("span",{className:"text-emerald-900",children:"Ty-Koad"})]})]})}function c({className:e=""}){return n.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,n.jsxs)("g",{transform:"translate(12 12)",children:[(0,n.jsxs)("g",{children:[n.jsx("path",{d:"M0 -6a6 6 0 1 1 -4.24 1.76"}),n.jsx("circle",{cx:"0",cy:"-6",r:"1.4",fill:"currentColor",stroke:"none"})]}),(0,n.jsxs)("g",{transform:"rotate(120)",children:[n.jsx("path",{d:"M0 -6a6 6 0 1 1 -4.24 1.76"}),n.jsx("circle",{cx:"0",cy:"-6",r:"1.4",fill:"currentColor",stroke:"none"})]}),(0,n.jsxs)("g",{transform:"rotate(240)",children:[n.jsx("path",{d:"M0 -6a6 6 0 1 1 -4.24 1.76"}),n.jsx("circle",{cx:"0",cy:"-6",r:"1.4",fill:"currentColor",stroke:"none"})]})]})})}function u(){return n.jsx("header",{id:"site-header",style:{position:"fixed",top:0,left:0,right:0,zIndex:2147483647},className:"bg-white/90 backdrop-blur border-b border-emerald-100 shadow-sm",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[n.jsx(i,{}),(0,n.jsxs)("nav",{className:"hidden md:flex items-center gap-6 text-sm text-stone-700",children:[n.jsx(o.default,{href:"/nuit",className:"hover:text-emerald-800",children:"Douce nuit"}),n.jsx(o.default,{href:"/spa",className:"hover:text-rose-700",children:"Spa privatif"}),n.jsx(o.default,{href:"/autour",className:"hover:text-sky-700",children:"Autour"}),n.jsx(o.default,{href:"/gourmets",className:"hover:text-emerald-800",children:"Gourmets"}),n.jsx(o.default,{href:"/infos-pratiques",className:"hover:text-emerald-800",children:"Infos pratiques"}),n.jsx(o.default,{href:"/cadeau",className:"hover:text-rose-700",children:"Ch\xe8que cadeau"}),n.jsx(o.default,{href:"/contact",className:"hover:text-sky-700",children:"Contact"}),n.jsx(o.default,{href:"/reserver",className:"px-4 py-2 rounded-xl bg-emerald-700 hover:bg-emerald-800 text-white shadow-sm",children:"R\xe9server"})]}),n.jsx(o.default,{href:"/reserver",className:"md:hidden px-3 py-1 rounded-lg bg-emerald-700 hover:bg-emerald-800 text-white text-sm shadow-sm",children:"R\xe9server"})]})})}},5047:(e,t,r)=>{"use strict";var n=r(7389);r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},9899:(e,t,r)=>{"use strict";var n=r(6715);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,a,s){if(s!==n){var i=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},8439:(e,t,r)=>{e.exports=r(9899)()},6715:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7764:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>o});var n=r(9510);r(7272);let o={title:"Ty-Koad — V5.x",description:"Paiement, caution, iCal, admin"};function a({children:e}){return n.jsx("html",{lang:"fr",children:n.jsx("body",{className:" min-h-screen bg-gradient-to-br from-emerald-50 via-sky-50 to-rose-50 text-stone-900 ",children:e})})}},1595:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>s,__esModule:()=>a,default:()=>i});var n=r(8570);let o=(0,n.createProxy)(String.raw`C:\Users\Nina\Downloads\ty-koad-v5_1\ty-koad-demo-v5.1\app\payer\page.jsx`),{__esModule:a,$$typeof:s}=o;o.default;let i=(0,n.createProxy)(String.raw`C:\Users\Nina\Downloads\ty-koad-v5_1\ty-koad-demo-v5.1\app\payer\page.jsx#default`)},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,471,552],()=>r(9954));module.exports=n})();
"use strict";(()=>{var e={};e.id=798,e.ids=[798],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2081:e=>{e.exports=require("child_process")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},3837:e=>{e.exports=require("util")},9071:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>l,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var n={};r.r(n),r.d(n,{POST:()=>p});var a=r(9303),s=r(8716),i=r(670),o=r(3114);async function p(e){try{let t=new o.Z(process.env.STRIPE_SECRET_KEY),{amountCents:r,chalet:n,ci:a,co:s,nights:i,depositCents:p,giftCode:u,giftValueCents:c}=await e.json(),d=Math.max(50,Number(r||0)),m=await t.paymentIntents.create({amount:Math.round(d),currency:"eur",automatic_payment_methods:{enabled:!0},metadata:{chalet:n,ci:a,co:s,nights:String(i||0),depositCents:String(p||0),...u?{giftCode:u,giftValueCents:String(c||0)}:{}}});return new Response(JSON.stringify({clientSecret:m.client_secret}),{status:200})}catch(e){return console.error(e),new Response(JSON.stringify({error:e.message}),{status:500})}}let u=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/stripe/create-payment-intent/route",pathname:"/api/stripe/create-payment-intent",filename:"route",bundlePath:"app/api/stripe/create-payment-intent/route"},resolvedPagePath:"C:\\Users\\Nina\\Downloads\\ty-koad-v5_1\\ty-koad-demo-v5.1\\app\\api\\stripe\\create-payment-intent\\route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:m}=u,l="/api/stripe/create-payment-intent/route";function x(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},9303:(e,t,r)=>{e.exports=r(517)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,749,114],()=>r(9071));module.exports=n})();